<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	template="../../pages/xhtml/home.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:b="http://bootsfaces.net/ui" 
	xmlns:p="http://primefaces.org/ui">
<ui:define name="content">
<style>
.ui-accordion .ui-accordion-header {
    cursor: pointer;
    position: relative;
    margin-top: 1px;
    min-height: 0;
    padding: 3px 5px 7px 32px;
    background: #e5e6f5;
    font-size: 17px;
    height:32px;
    font-weight: bold;
    font-family: 'HelveticaNeueLT Pro 55 Roman';
    color: black;
    text-decoration: none;
    border: 1px solid #d3d3d3;
}
.ui-accordion .ui-accordion-content {
    padding: 1em 2.2em;
    border-top: 0;
    margin-top: -2px;
    position: relative;
    top: 1px;
    margin-bottom: 2px;
    overflow: auto;
    zoom: 1;
    border: 1px solid #d3d3d3;
</style>
<p:panel header="#{loginMB.loginaccess.modulename} Details Form">
<p:accordionPanel dynamic="true" cache="true" multiple="true">
<p:tab title="Customer Basic Info">
<p:outputPanel>
				<h:form id="cusModify">
						<center>
						<div style="height:10px"></div>
						<table width="92%"><tr><td align="right">
	<h:outputText value="PENDING FOR APPROVAL" styleClass="confirmTxt" rendered="#{loginMB.loginaccess.approvalStatus=='draft'}"></h:outputText>
	</td></tr></table>
					<div style="height:10px"><h:outputLabel value="#{buyersViewMB.validate}"
							styleClass="errorTxt"></h:outputLabel>
							<p id="cwebicon" style="padding:1px;margin:0px"></p>
							</div>
							<div style="height:10px"></div>
					<p:panelGrid style="height:250px;width:100%" columns="6" styleClass="ui-panelgrid-blank"> 

						
						<h:panelGroup>
								<h:outputText class="label_ui" value="Title: " />
								
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText  value="#{buyersViewMB.customerTitle}" 
									id="custitle"  styleClass="inputTxt">
									<p:ajax update="custitle" process="@this" immediate="true"></p:ajax>
								</p:inputText>
							</h:panelGroup>

							<h:panelGroup>
								<h:outputText class="label_ui" value="First name: " lass="label_ui"/>
								
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText value="#{buyersViewMB.customerName}"  
									id="cusfirstname"  styleClass="inputTxt">
									<p:ajax update="cusfirstname" immediate="true" process="@this"></p:ajax>
									<h:message for="cusfirstname" style="color:red"></h:message>
								</p:inputText>
							</h:panelGroup>

							<h:panelGroup>
								<h:outputText class="label_ui" value="Middle name: " 
									for="vproductLimit" />
								
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText value="#{buyersViewMB.customerMiddleName}" 
									id="cusmidname" styleClass="inputTxt">
									<p:ajax update="cusmidname" immediate="true" process="@this"></p:ajax>
								</p:inputText>
							</h:panelGroup>

							<h:panelGroup>
								<h:outputText class="label_ui" value="Email:" />
								
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText value="#{buyersViewMB.mail}" 
									id="cusemail" styleClass="inputTxt">
									<p:ajax update="cusemail" immediate="true" process="@this"></p:ajax>
								</p:inputText>
							</h:panelGroup>

							<h:panelGroup>
								<h:outputText class="label_ui" value="Code: " />
								
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText value="#{buyersViewMB.code}" 
									id="cuscode" styleClass="inputTxt" readonly="true">
									<p:ajax update="cuscode" immediate="true" process="@this"></p:ajax>
								</p:inputText>
							</h:panelGroup>

							<h:panelGroup>
								<h:outputText class="label_ui" value="Mobile:  " />
							
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText value="#{buyersViewMB.phoneno}"  readonly="true" 
									id="cusMobile" styleClass="inputTxt">
									<p:ajax update="cusMobile" immediate="true" process="@this"></p:ajax>
								</p:inputText>
							</h:panelGroup>

							<h:panelGroup>
								<h:outputText class="label_ui" value="Phone Number: " /> 
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText value="#{buyersViewMB.custMobile}"  
									id="cusphone" styleClass="inputTxt">
									
									<p:ajax update="cusphone" immediate="true" process="@this"></p:ajax>
								</p:inputText>
							</h:panelGroup>

							<h:panelGroup>
								<h:outputText class="label_ui" value="Category: " />
							</h:panelGroup>
							<h:panelGroup>
							<h:selectOneMenu value="#{buyersViewMB.categoryName}"
									id="ccate" widgetVar="var3"  style="border-radius:0px;height: 25px;width: 200px;"
									styleClass="ui-selectdrop">
									<f:selectItem itemLabel="--- Select Category---" itemValue="select"></f:selectItem>
									<f:selectItem itemLabel="Personal" itemValue="Personal"></f:selectItem>
									<f:selectItem itemLabel="Company" itemValue="Company"></f:selectItem>
									<f:selectItem itemLabel="Others" itemValue="Store"></f:selectItem>
									<p:ajax process="@this" immediate="true"
										update="ccate"></p:ajax>
								</h:selectOneMenu>
								
							</h:panelGroup>

							<h:panelGroup>
								<h:outputText class="label_ui" value="Other: " />
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText value="#{buyersViewMB.other}" 
									id="others" styleClass="inputTxt">
							<p:ajax update="others" immediate="true" process="@this"></p:ajax>
								</p:inputText>
							</h:panelGroup>
							
							<h:panelGroup>
								<h:outputText class="label_ui" value="Date: " />
								
							</h:panelGroup>
							<h:panelGroup>
								<p:calendar  value="#{buyersViewMB.date}" 
									id="cusdate" pattern="dd/MM/yyyy">
									<p:ajax update="@form" event="dateSelect" process="@this"></p:ajax>
									<p:ajax update="@form" event="valueChange" process="@this"></p:ajax>
								</p:calendar>
							</h:panelGroup>
							
							<h:panelGroup>
								<h:outputText class="label_ui" value="Company: " />
								
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText  value="#{buyersViewMB.company}" 
									id="cusCompany"  styleClass="inputTxt">
									<p:ajax update="cusCompany" immediate="true" process="@this"></p:ajax>
								</p:inputText>
							</h:panelGroup>
							
							
							<h:panelGroup>
								<h:outputText class="label_ui" value="Website :" />
								
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText  value="#{buyersViewMB.website}" 
									id="cuswebsite"  styleClass="inputTxt">
									<p:ajax update="cuswebsite" immediate="true" process="@this"></p:ajax>
								</p:inputText>
							</h:panelGroup>
							<h:panelGroup>
								<h:outputText class="label_ui" value="Fax number: " />
								
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText  value="#{buyersViewMB.faxnumber}" 
									id="faxnumber"  styleClass="inputTxt">
									<p:ajax update="faxnumber" immediate="true" process="@this"></p:ajax>
								</p:inputText>
							</h:panelGroup>
							<h:panelGroup>
								<h:outputText class="label_ui" value="LicenceNo: " />								
							</h:panelGroup>	
							<h:panelGroup>
								<p:inputText id="clicno" value="#{buyersViewMB.cuslicNo}" styleClass="inputTxt"> 
								<p:ajax process="@this" immediate="true" update="clicno"></p:ajax>
								</p:inputText>
							</h:panelGroup>					
							<h:panelGroup>
								<h:outputText class="label_ui" value="Customer Type: " />								
							</h:panelGroup>
							<h:panelGroup>
								<h:selectOneMenu id="custype" style="border-radius:0px;height: 25px;width: 200px;" widgetVar="var1" value="#{buyersViewMB.custype}">	
									<f:selectItem itemLabel="--- Customer Type---" itemValue="select" />
									<f:selectItem itemLabel="Trading" itemValue="Trading"></f:selectItem> 
					       			<f:selectItem itemLabel="Non-Trading" itemValue="Non-Trading"></f:selectItem> 
					       			<p:ajax process="@this" immediate="true" update="custype"></p:ajax> 
								</h:selectOneMenu>
							</h:panelGroup>
							<h:panelGroup>
								<h:outputText class="label_ui" value="Description: " />								
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText style="width:200px;height:40px;overflow-y:scroll"  
									value="#{buyersViewMB.note}" id="cusnote">
									<p:ajax process="@this" immediate="true"
										update="cusnote"></p:ajax>
								</p:inputText>
							</h:panelGroup>		
							<h:panelGroup>
								<h:outputText class="label_ui" value="Customer Code: " />								
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText id="cuscodes" styleClass="inputTxt" value="#{buyersViewMB.cusCode}" readonly="true"> 
								<p:ajax process="@this" immediate="true" update="cuscodes"></p:ajax>
								</p:inputText>
							</h:panelGroup>
							<h:panelGroup>
								<h:outputText class="label_ui" value="Payment Type" />								
							</h:panelGroup>
							<h:panelGroup>
								<h:selectOneMenu  id="patyp" style="border-radius:0px;height: 25px;width: 200px;" valueChangeListener="#{buyersViewMB.venTypes}" value="#{buyersViewMB.paytype}">
								<f:selectItem itemLabel="--- Select Type---" itemValue="select" />
								<f:selectItem itemLabel="Cash" itemValue="Cash" />
								<f:selectItem itemLabel="Credit" itemValue="Credit"/>
								<p:ajax update="cusModify" event="valueChange" immediate="true" process="@this"></p:ajax>
								</h:selectOneMenu>
							</h:panelGroup>
							<h:panelGroup>
								<h:outputText class="label_ui" value="Payment Days" rendered="#{buyersViewMB.paytype == 'Credit'}"/>								
							</h:panelGroup>
							<h:panelGroup>							
								<h:selectOneMenu id="days" style="border-radius:0px;height: 25px;width:170px;" value="#{buyersViewMB.paydays}" rendered="#{buyersViewMB.paytype == 'Credit'}" >
									<f:selectItem itemLabel="--- Payment Days ---" itemValue="select"/>
									<f:selectItems value="#{buyersViewMB.daylist}"></f:selectItems> 
									<p:ajax immediate="true" update="@form" process="@this"></p:ajax>  
								</h:selectOneMenu>
							</h:panelGroup>
							<h:panelGroup>
								<p:commandButton icon="fa fa-plus" process="@this" immediate="true" actionListener="#{buyersViewMB.dialog}" rendered="#{buyersViewMB.paytype =='Credit'}" update="@form" style="margin-left: -47px;"></p:commandButton>
							</h:panelGroup>
						</p:panelGrid></center>	<br></br>
<p:tabView id="tabviewid" style="width:98%;height:270px;border:1px !important;">
				<p:tab title="Address" style="min-height:300px;">
				<table width="100%">
				<tr><td width="1%"></td>
				<td width="50%">
					<h:outputText value="Present Address:" class="labelTxt"></h:outputText>
				</td>
				<td width="49%">
				<h:outputText value="Permanent Address:" class="labelTxt"></h:outputText>
				</td>
				</tr></table>
				<p:panelGrid style="height:70px;width:100%"  columns="2" styleClass="ui-panelgrid-blank">
				
				<p:inputTextarea placeholder="Street" value="#{buyersViewMB.permanentaddress}"
									id="cusstreetpresentt" style="width:450px">
				<p:ajax process="@this" immediate="true"
										update="cusstreetpresentt"></p:ajax>
				</p:inputTextarea>
					<p:inputTextarea placeholder="Street" value="#{buyersViewMB.address}"
									id="cusstreetspermanent" style="width:450px">
									<p:ajax process="@this" immediate="true"
										update="cusstreetspermanent"></p:ajax>
								</p:inputTextarea>
				</p:panelGrid>
				
				<p:panelGrid style="height:110px;width:100%"  columns="4" styleClass="ui-panelgrid-blank">
				<h:outputText value="City:" class="labelTxt"></h:outputText>
				<h:outputText value="Country:" class="labelTxt"></h:outputText>
				<h:outputText value="City:" class="labelTxt"></h:outputText>
				<h:outputText value="Country:" class="labelTxt"></h:outputText>
				<p:inputText styleClass="inputTxt" placeholder="City "
									value="#{buyersViewMB.cities}"
									id="cuscitypresent">
									<p:ajax process="@this" immediate="true"
										update="cuscitypresent"></p:ajax>
								</p:inputText>
								<h:selectOneMenu value="#{buyersViewMB.presentcountry}" valueChangeListener="#{buyersViewMB.counSelectValueChange1}"
							     	style="border-radius:0px;height: 25px;width: 200px;" id="cuscountrypresent" widgetVar="var2">									
									<f:selectItem itemLabel="--- Select Country---" itemValue="select" />
       								<f:selectItem itemLabel="India" itemValue="India"></f:selectItem>
       								<f:selectItem itemLabel="Indonesia" itemValue="Indonesia"></f:selectItem>
       								<f:selectItem itemLabel="Malaysia" itemValue="Malaysia"></f:selectItem>
       								<f:selectItem itemLabel="Singapore" itemValue="Singapore"></f:selectItem>
       								<f:selectItem itemLabel="UAE" itemValue="UAE"></f:selectItem>
      								 <p:ajax update="vstat" process="@this" event="valueChange"></p:ajax>
								</h:selectOneMenu>
								<p:inputText styleClass="inputTxt" placeholder="City "
									value="#{buyersViewMB.city}"
									id="cuscitypermenent">
									<p:ajax process="@this" immediate="true"
										update="cuscitypermenent"></p:ajax>
								</p:inputText>
								<h:selectOneMenu value="#{buyersViewMB.country}" valueChangeListener="#{buyersViewMB.counSelectValueChange}"
							     	style="border-radius:0px;height: 25px;width: 200px;" id="cuscountrypermanent" widgetVar="var2">									
									<f:selectItem itemLabel="--- Select Country---" itemValue="select" />
       								<f:selectItem itemLabel="India" itemValue="India"></f:selectItem>
       								<f:selectItem itemLabel="Indonesia" itemValue="Indonesia"></f:selectItem>
       								<f:selectItem itemLabel="Malaysia" itemValue="Malaysia"></f:selectItem>
       								<f:selectItem itemLabel="Singapore" itemValue="Singapore"></f:selectItem>
       								<f:selectItem itemLabel="UAE" itemValue="UAE"></f:selectItem>
      								 <p:ajax update="vstat1" process="@this" event="valueChange"></p:ajax>
								</h:selectOneMenu>
								<h:outputText value="Postal Code:" class="labelTxt"></h:outputText>
								<h:outputText value="State:" class="labelTxt"></h:outputText>
								<h:outputText value="postal code:" class="labelTxt"></h:outputText>
								<h:outputText value="State:" class="labelTxt"></h:outputText>
								<p:inputText styleClass="inputTxt" placeholder="Postal Code:"
									value="#{buyersViewMB.prePostCode}"
									id="cuspostalcodepresent">
									<p:ajax process="@this" immediate="true"
										update="cuspostalcodepresent"></p:ajax>
								</p:inputText>
								<h:selectOneMenu placeholder="State" id="vstat" style="border-radius:0px;height: 25px;width: 200px;" value="#{buyersViewMB.perstate}">
							<f:selectItem itemLabel="--- Select State---" itemValue="select" />
							<f:selectItems value="#{buyersViewMB.stateList1}"></f:selectItems>
							<p:ajax process="@this" immediate="true" update="@form"></p:ajax>
							</h:selectOneMenu>
								<p:inputText styleClass="inputTxt" placeholder="Postalcode" 
									value="#{buyersViewMB.postCode}"
									id="cuspostalcodepermenent">
									<p:ajax process="@this" immediate="true"
										update="cuspostalcodepermenent"></p:ajax>
								</p:inputText>
								<h:selectOneMenu placeholder="State" id="vstat1" style="border-radius:0px;height: 25px;width: 200px;" value="#{buyersViewMB.state}">
							<f:selectItem itemLabel="--- Select State---" itemValue="select" />
							<f:selectItems value="#{buyersViewMB.stateList}"></f:selectItems>
							<p:ajax process="@this" immediate="true" update="@form"></p:ajax>
							</h:selectOneMenu>
				</p:panelGrid>
					</p:tab>
			</p:tabView><br/>
			<center>
			<p:commandButton value="Update" update="@form" process="@this" immediate="true" action="#{buyersViewMB.buyerUpdate}"
			 onstart="PF('statusDialog').show();" onsuccess="PF('statusDialog').hide();" rendered="#{loginMB.loginaccess.approvalStatus=='Approved'}"></p:commandButton>
			   <p:commandButton value="Cancel"  action="dashboard.xhtml?faces-redirect=true" 
			 onstart="PF('statusDialog').show();" onsuccess="PF('statusDialog').hide();" rendered="#{loginMB.loginaccess.approvalStatus=='Approved'}"></p:commandButton>
			  <p:commandButton value="Close" action="dashboard.xhtml?faces-redirect=true" 
			 onstart="PF('statusDialog').show();" onsuccess="PF('statusDialog').hide();" rendered="#{loginMB.loginaccess.approvalStatus=='draft'}"></p:commandButton>
				<br/><br/>
					</center>
			</h:form>
			</p:outputPanel></p:tab>
		 <p:tab title="Sales Order Details">
             <marquee>Inprogress</marquee>
        </p:tab>
        <p:tab title="Sales Payment Details">
        	<p:dataTable filterEvent="keyup" var="info" style="padding:2px;width:98%" value="#{vendorViewFormMB.ven1}" filteredValue="#{vendorViewFormMB.filterList1}" widgetVar="VendorInfo"  id="dataTable" emptyMessage="No information found with given criteria"
     			reflow="true">
		      	<p:column width="30" headerText="No">
					<div align="center">
						<h:outputText class="labelTxt" value="#{info.serialno}"/>
					</div>
				</p:column>
		      	<p:column filterBy="#{info.vendorPhoneNumber}" width="120" headerText="Total Amount" filterMatchMode="contains" filterStyle="display:none">
		      		<h:outputText value="#{info.vendorPhoneNumber}" />
		      		<h:inputHidden value="#{info.vendor_Id}"></h:inputHidden>
		      	</p:column>
		      	<p:column filterBy="#{info.phonenumberv}" width="100" headerText="Paid Amount" filterMatchMode="contains" filterStyle="display:none">
		      		<h:outputText value="#{info.phonenumberv}"></h:outputText>
		      	</p:column>
		      	<p:column filterBy="#{info.peresonIncharge}" width="100"  headerText="Balance Amount" filterMatchMode="contains" filterStyle="display:none">
		      		<h:outputText value="#{info.peresonIncharge}"></h:outputText>
		      	</p:column>
		      	<p:column headerText="Paid Date" filterBy="#{info.country1}" width="80" filterMatchMode="contains" filterStyle="display:none">
		      		<h:outputText value="#{info.country1}"></h:outputText>
		      	</p:column>
		      	<p:column headerText="Due Date" filterBy="#{info.state}" width="100" filterMatchMode="contains" filterStyle="display:none">
		      		<h:outputText value="#{info.state}"></h:outputText>
		      	</p:column>
		      	<p:column headerText="Action" filterBy="#{info.approvalStatus}" width="100" filterMatchMode="contains" filterStyle="display:none">
		      		
		      	</p:column>
      		</p:dataTable>
        </p:tab>
        <p:tab title="Sales Payment Due Details">
           <marquee>Inprogress</marquee>
        </p:tab>
         <p:tab title="Quick Sales Details">
            <marquee>Inprogress</marquee>
        </p:tab>
        <p:tab title="Sales Quotation Details">
             <marquee>Inprogress</marquee>
        </p:tab>
</p:accordionPanel>			
<p:dialog header="CONGRATULATIONS...!!" widgetVar="cuc" modal="true" width="50%"  height="130px" resizable="false" appendTo="@(body)">
		<center><div style="height:25px"></div>
			<h:panelGrid columns="3" border="0" align="center">
 				<h:outputText value="Customer Information has been successfully modified." styleClass="confirmTxt"></h:outputText>
			</h:panelGrid>
			<div style="height:30px"></div>
			<center><p:commandButton value="Ok" action="dashboard.xhtml?faces-redirect=true" process="@this" immediate="true"
			 update=":center_content" onsuccess="PF('cuc').hide()"></p:commandButton></center>
			</center>
	</p:dialog>	
</p:panel>
</ui:define>
</ui:composition>